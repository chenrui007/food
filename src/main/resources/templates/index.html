<!DOCTYPE html>
<html lang="en">
<head>
  <title>Home</title>
  <!-- custom-theme -->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <meta name="keywords" content=""/>
  <script type="application/x-javascript"> addEventListener("load", function () {
    setTimeout(hideURLbar, 0);
  }, false);

  function hideURLbar() {
    window.scrollTo(0, 1);
  } </script>
  <!-- //custom-theme -->
  <link href="css/bootstrap.css" rel="stylesheet" type="text/css" media="all"/>
  <link href="css/style.css" rel="stylesheet" type="text/css" media="all"/>
  <link rel="stylesheet" href="css/flexslider.css" type="text/css" media="screen" property=""/>
  <!-- js -->
  <script type="text/javascript" src="js/jquery.min.js"></script>
  <!-- //js -->
  <!-- font-awesome-icons -->
  <link rel="stylesheet" href="css/font-awesome.min.css"/>
  <!-- //font-awesome-icons -->
  <link
      href="http://fonts.googleapis.com/css?family=Josefin+Sans:100,100i,300,300i,400,400i,600,600i,700,700i"
      rel="stylesheet">
  <link
      href="http://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i,800,800i&amp;subset=cyrillic,cyrillic-ext,greek,greek-ext,latin-ext,vietnamese"
      rel="stylesheet">
</head>
<style>
  .agileits_team_grid {
    text-align: center;
    width: 28%;
    margin-right: 5%;
    padding: 2em 1em;
    border: 1px solid #999;
  }

</style>

<body>
<!-- banner -->
<div class="banner jarallax">
  <div class="agile_dot_info one">
    <div class="container">
      <nav class="navbar navbar-default">
        <div class="navbar-header navbar-left">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
                  data-target="#bs-example-navbar-collapse-1">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <h1><a class="navbar-brand" href="index.html">好食膳</a></h1>
        </div>
        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse navbar-right" id="bs-example-navbar-collapse-1">
          <nav class="link-effect-8" id="link-effect-8">
            <ul class="nav navbar-nav">
              <li class="active"><a href="index.html">首页</a></li>
              <li><a href="article.html">发布文章</a></li>
              <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">浏览文章<b class="caret"></b></a>
                <ul class="dropdown-menu agile_short_dropdown" id="category">

                </ul>
              </li>
              <li><a href="contact.html">加入我们</a></li>
              <li class="dropdown" id="loginStatus"></li>


            </ul>
          </nav>
        </div>
      </nav>
      <div class="w3_agile_banner_info">
        <section class="slider">
          <div class="flexslider">
            <ul class="slides">
              <li>
                <div class="agileits_w3layouts_banner_info">
                  <p>Your Home Deserves Special And Selected Furnishings</p>
                  <h3>Modern Living Room Sets</h3>
                </div>
              </li>
              <li>
                <div class="agileits_w3layouts_banner_info">
                  <p>Your Home Deserves Special And Selected Furnishings</p>
                  <h3>Authentic And Luxurious</h3>
                </div>
              </li>
              <li>
                <div class="agileits_w3layouts_banner_info">
                  <p>Your Home Deserves Special And Selected Furnishings</p>
                  <h3>Amazing Exclusive Design</h3>
                </div>
              </li>
              <li>
                <div class="agileits_w3layouts_banner_info">
                  <p>Your Home Deserves Special And Selected Furnishings</p>
                  <h3>Authentic And Luxurious</h3>
                </div>
              </li>
            </ul>
          </div>
        </section>
        <!-- flexSlider -->
        <script defer src="js/jquery.flexslider.js"></script>
        <script type="text/javascript">
          $(window).load(function () {
            $('.flexslider').flexslider({
              animation: "slide",
              start: function (slider) {
                $('body').removeClass('loading');
              }
            });
          });
        </script>
        <!-- //flexSlider -->

      </div>
      <div class="agile_banner_social">
        <ul class="agileits_social_list">
          <li><a href="#" class="w3_agile_facebook"><i class="fa fa-facebook"
                                                       aria-hidden="true"></i></a></li>
          <li><a href="#" class="agile_twitter"><i class="fa fa-twitter" aria-hidden="true"></i></a>
          </li>
          <li><a href="#" class="w3_agile_dribble"><i class="fa fa-dribbble" aria-hidden="true"></i></a>
          </li>
          <li><a href="#" class="w3_agile_vimeo"><i class="fa fa-vimeo" aria-hidden="true"></i></a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>
<!-- //banner -->
<!-- agile-about -->
<div class="jarallax agile-about w3ls-section">
  <div class="container">
    <h2 class="w3ls_head"><span>关于 </span>我们</h2>

    <div class="agile-about-grids">

      <div class="col-md-6 col-sm-6 agile-about-grid agile-about-grid1 ">
        <h5>About Furnishings</h5>
        <h4>Lorem ipsum dolor sit amet, consectetur adipisicing elit.</h4>
        <p>sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim
          veniam, sunt in culpa qui officia deserunt mollit anim id est laborum. Duis aute irure
          dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla
          pariatur.</p>
      </div>

      <div class="col-md-6 col-sm-6 agile-about-grid agile-about-grid2 ">
      </div>
      <div class="clearfix"></div>
    </div>
    <div class="about-info-grids">
      <div class="col-md-4 col-sm-4 about-info about-info1">
        <i class="fa fa-info-circle agile-sicon" aria-hidden="true"></i>
        <h4>how we work</h4>
        <div class="h4-underline"></div>
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor
          incididunt ut labore.</p>
      </div>
      <div class="col-md-4 col-sm-4 about-info about-info2">
        <i class="fa fa-question-circle agile-sicon" aria-hidden="true"></i>
        <h4>what we do</h4>
        <div class="h4-underline"></div>
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor
          incididunt ut labore.</p>
      </div>
      <div class="col-md-4 col-sm-4 about-info about-info3">
        <i class="fa fa-registered agile-sicon" aria-hidden="true"></i>
        <h4>why choose us</h4>
        <div class="h4-underline"></div>
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor
          incididunt ut labore.</p>
      </div>
      <div class="clearfix"></div>
    </div>

  </div>
</div>
<!-- //agile-about -->
<div class="tlinks">Collect from <a href="http://www.cssmoban.com/">自助建站</a></div>
<!-- special -->
<div class="special jarallax">
  <div class="container">
    <h3 class="w3ls_head"><span class="thr">热门 </span>文章</h3>

    <div class="special-grids">
      <div class="col-md-6 w3l-special-grid">
        <div class="col-md-6 w3ls-special-img">

        </div>
        <div class="col-md-6 agileits-special-info" id="article0">

        </div>
        <div class="clearfix"></div>
      </div>
      <div class="col-md-6 w3l-special-grid">
        <div class="col-md-6 w3ls-special-img wthree-img1">

        </div>
        <div class="col-md-6 agileits-special-info" id="article1">

        </div>
        <div class="clearfix"></div>
      </div>
      <div class="col-md-6 w3l-special-grid">
        <div class="col-md-6 agileits-special-info" id="article2">

        </div>
        <div class="col-md-6 w3ls-special-img wthree-img2">

        </div>

        <div class="clearfix"></div>
      </div>
      <div class="col-md-6 w3l-special-grid">
        <div class="col-md-6 agileits-special-info" id="article3">

        </div>
        <div class="col-md-6 w3ls-special-img wthree-img3">

        </div>

        <div class="clearfix"></div>
      </div>


      <div class="clearfix"></div>
    </div>
  </div>
</div>
<!-- //special -->
<!-- testimonials -->
<div class="testimonials jarallax">
  <div class="container">
    <h3 class="w3ls_head"><span>最新 </span>留言</h3>

    <div class="w3ls_testimonials_grids">
      <section class="center slider" id="newMessage">

      </section>
    </div>
  </div>
</div>
<!-- //testimonials -->
<!-- stats -->
<div class="stats jarallax">
  <div class="container">
    <h3 class="w3ls_head"><span class="thr">系统 </span>统计</h3>
    <div class="stat_top">
      <div class="col-md-3 w3layouts_stats_left w3_counter_grid" id="articleCount">

      </div>
      <div class="col-md-3 w3layouts_stats_left w3_counter_grid1" id="userCount">
        <span class="fa fa-user" aria-hidden="true"></span>
        <h3>用户数量</h3>
        <p class="counter"></p>

      </div>
      <div class="col-md-3 w3layouts_stats_left w3_counter_grid2" id="messageCount">


      </div>
      <div class="col-md-3 w3layouts_stats_left w3_counter_grid3">
        <span class="fa fa-trophy" aria-hidden="true"></span>
        <h3>其他</h3>
        <p class="counter">0</p>

      </div>
      <div class="clearfix"></div>
    </div>
  </div>
</div>
<!-- //stats -->
<!-- team -->
<div class="team">
  <div class="container">
    <h3 class="w3ls_head"><span>活跃 </span>用户</h3>

    <div class="agileits_team_grids" id="activeUser">


    </div>
  </div>
</div>
<!-- //team -->

<!-- footer -->
<div class="footer">
  <div class="container">
    <div class="w3_newsletter_footer_grids">
      <div class="w3_newsletter_footer_grid_left">
        <form action="#" method="post">
          <input type="email" name="Email" placeholder="Email" required="">
          <input type="submit" value="Send">
        </form>
      </div>


    </div>

    <div class="agileinfo_copyright">
      <p>Copyright &copy; 2018.Company name All rights reserved.More Templates <a
          href="http://www.cssmoban.com/" target="_blank" title="模板之家">模板之家</a> - Collect from <a
          href="http://www.cssmoban.com/" title="网页模板" target="_blank">网页模板</a></p>
    </div>
  </div>
</div>
<!-- //footer -->
<script type="text/javascript" src="js/move-top.js"></script>
<script type="text/javascript" src="js/easing.js"></script>
<!-- here stars scrolling icon -->
<script type="text/javascript">
  $(document).ready(function () {
    /*
      var defaults = {
      containerID: 'toTop', // fading element id
      containerHoverID: 'toTopHover', // fading element hover id
      scrollSpeed: 1200,
      easingType: 'linear'
      };
    */

    $().UItoTop({easingType: 'easeOutQuart'});

  });
</script>
<!-- //here ends scrolling icon -->

<!-- for bootstrap working -->
<script src="js/bootstrap.js"></script>
<!-- //for bootstrap working -->
<!-- carousal -->
<script src="js/slick.js" type="text/javascript" charset="utf-8"></script>
<script type="text/javascript">
  $(document).on('ready', function () {
    $(".center").slick({
      dots: true,
      infinite: true,
      centerMode: true,
      slidesToShow: 2,
      slidesToScroll: 2,
      responsive: [
        {
          breakpoint: 768,
          settings: {
            arrows: true,
            centerMode: false,
            slidesToShow: 2
          }
        },
        {
          breakpoint: 480,
          settings: {
            arrows: true,
            centerMode: false,
            centerPadding: '40px',
            slidesToShow: 1
          }
        }
      ]
    });
  });
</script>
<!-- //carousal -->
<script src="js/jarallax.js"></script>
<script src="js/SmoothScroll.min.js"></script>
<script type="text/javascript">
  /* init Jarallax */
  $('.jarallax').jarallax({
    speed: 0.5,
    imgWidth: 1366,
    imgHeight: 768
  })
</script>
<!-- stats -->
<script src="js/jquery.waypoints.min.js"></script>
<script src="js/jquery.countup.js"></script>
<script>
  $('.counter').countUp();
</script>
<!-- //stats -->

</body>
<script>
  $(document).ready(function () {
    var userName = localStorage.getItem("userName");
    if (userName == null) {
      var loginStatus = ' <a href="login.html">登录</a>';
      $("#loginStatus").html('').append(loginStatus);
    } else {
      var loginStatus = '<a href="#" class="dropdown-toggle" data-toggle="dropdown">'
          + userName
          + '<b class="caret"></b></a><ul class="dropdown-menu agile_short_dropdown"><li><a href="my_collection.html">我的收藏</a></li><li><a href="my_attention.html">我的关注</a></li><li><a href="my_article.html">我的文章</a></li><li><a href="password.html">修改密码</a></li><li><a onclick="logout()">退出</a></li></ul>';
      $("#loginStatus").html('').append(loginStatus);

    }
  })
</script>
<script>
  function logout() {
    localStorage.clear();
    window.location.reload();
  }
</script>
<script>
  $(document).ready(function () {

    $.ajax({
      type: "GET",
      url: "category/listCategory",//路径
      dataType: "json",
      success: function (data) {//返回数据根据结果进行相应的处理
        var data = data.data;
        var category = "";

        for (var i = 0; i < data.length; i++) {
          category += ' <li><a href="article_list.html?categoryId=' + data[i].id + '">'
              + data[i].categoryName + '</a></li>';
        }
        $("#category").html('').append(category);
      }
    });
  })
</script>
<!--活跃用户-->
<script>
  $(document).ready(function () {
    $.ajax({
      type: "GET",
      url: "userInfo/activeUserRanking",//路径
      dataType: "json",
      success: function (data) {//返回数据根据结果进行相应的处理
        var data = data.data;

        var activeUser = "";

        for (var i = 0; i < data.length; i++) {
          activeUser += '<a href="article_user.html?userId=' + data[i].id
              + '"> <div class="col-md-4 agileits_team_grid">'
              + '        <div class="agileits_team_grid_figure">'
              + '          <img src="' + data[i].avatar + '" alt=" " class="img-responsive" height="200" width="300"/>'
              + '        </div>'
              + '        <h4>' + data[i].userName + '</h4>'
              + '        <div class="social-icon">'
              + '          <a href="#" class="social-button facebook"><i class="fa fa-facebook"></i></a>'
              + '          <a href="#" class="social-button twitter"><i class="fa fa-twitter"></i></a>'
              + '          <a href="#" class="social-button google"><i class="fa fa-google-plus"></i></a>'
              + '          <a href="#" class="social-button dribbble"><i class="fa fa-dribbble"></i></a>'
              + '        </div>'
              + '      </div></a>';
        }
        $("#activeUser").html('').append(activeUser);
      }
    });
  })
</script>
<!--热门文章-->
<script>
  $(document).ready(function () {
    $.ajax({
      type: "GET",
      url: "article/hotArticle",//路径
      dataType: "json",
      success: function (data) {//返回数据根据结果进行相应的处理
        var data = data.data;
        console.log(data);
        var article0 = "";
        var article1 = "";
        var article2 = "";
        var article3 = "";
        if (data[0] != null) {
          var article0 = '<h4>' + data[0].categoryName
              + '</h4><a href="article_info.html?articleId='+ data[0].id +'"><p>' + data[0].articleName + '</p></a> ';
        }
        if (data[1] != null) {
          var article1 = '<h4>' + data[1].categoryName
              + '</h4><a href="article_info.html?articleId='+ data[1].id +'"><p>' + data[1].articleName + '</p></a>';
        }
        if (data[2] != null) {
          var article2 = '<h4>' + data[2].categoryName
              + '</h4><a href="article_info.html?articleId='+ data[2].id +'"><p>' + data[2].articleName + '</p></a>';
        }
        if (data[3] != null) {
          var article3 = '<h4>' + data[3].categoryName
              + '</h4><a href="article_info.html?articleId='+ data[3].id +'"><p>' + data[3].articleName + '</p></a>';
        }

        $("#article0").html('').append(article0);
        $("#article1").html('').append(article1);
        $("#article2").html('').append(article2);
        $("#article3").html('').append(article3);
      }
    });
  })
</script>
<!--最新留言-->
<script>
  $(document).ready(function () {
    $.ajax({
      type: "GET",
      url: "articleMessage/newMessage",//路径
      dataType: "json",
      success: function (data) {//返回数据根据结果进行相应的处理
        var data = data.data;

        var newMessage = "";
        if (data.length > 3) {
          for (var i = 0; i < 3; i++) {
            newMessage += '<div class="agileits_testimonial_grid"><div class="w3l_testimonial_grid"> <p>'
                + data[i].message + '</p><h4>' + data[i].messageFrom + '</h4><h5>'
                + data[i].createTimeStr + '</h5><div class="w3l_testimonial_grid_pos"><img src="'
                + data[i].avatar + '" alt=" " class="img-responsive" height="100" width="120"/></div></div></div>';
          }
        } else {
          for (var i = 0; i < data.length; i++) {
            newMessage += '<div class="agileits_testimonial_grid"><div class="w3l_testimonial_grid"> <p>'
                + data[i].message + '</p><h4>' + data[i].messageFrom + '</h4><h5>'
                + data[i].createTimeStr + '</h5><div class="w3l_testimonial_grid_pos"><img src="'
                + data[i].avatar + '" alt=" " class="img-responsive" height="100" width="120"/></div></div></div>';
          }
        }

        $("#newMessage").html('').append(newMessage);
      }
    });
  })
</script>
<!--统计-->
<script>
  $(document).ready(function () {
    $.ajax({
      type: "GET",
      url: "article/statistics",//路径
      dataType: "json",
      success: function (data) {//返回数据根据结果进行相应的处理
        var data = data.data;
        console.log(data);

        var articleCount = '<span class="fa fa-folder-open" aria-hidden="true"></span><h3>文章数量</h3><p class="counter">'
            + data.articleCount + '</p>';
        $("#articleCount").html('').append(articleCount);

        var userCount = '<span class="fa fa-users" aria-hidden="true"></span><h3>用户数量</h3><p class="counter">'
            + data.userCount + '</p>'
        $("#userCount").html('').append(userCount);

        var messageCount = '<span class="fa fa-users" aria-hidden="true"></span><h3>留言数量</h3><p class="counter">'
            + data.messageCount + '</p>';
        $("#messageCount").html('').append(messageCount);
      }
    });
  })
</script>
</html>